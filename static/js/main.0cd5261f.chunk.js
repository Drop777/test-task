(this["webpackJsonptest-incora"]=this["webpackJsonptest-incora"]||[]).push([[0],{71:function(e,t,a){e.exports=a(84)},76:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),i=a.n(o),l=a(36),c=(a(76),a(29)),s=a(15),u=a(12),d=a.n(u),p=a(23),m=a(25),f=a(17),h=a(34),E=a(35),y=a(37),b=a(112),g=a(116),v=a(115),O=a(113),j=a(114),S=a(109),w=a(119),C=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).load=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.getUsersData,e.next=3,t();case 3:case"end":return e.stop()}}),e)}))),a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"render",value:function(){var e=this.props,t=e.users,a=e.isLoading,n=e.isLoaded;return a?r.a.createElement("div",{className:"lds-hourglass"}):n?r.a.createElement(S.a,null,r.a.createElement(b.a,{"aria-label":"simple table"},r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,"Name"),r.a.createElement(v.a,{align:"left"},"Csername"),r.a.createElement(v.a,{align:"left"},"Email"),r.a.createElement(v.a,{align:"left"},"City"),r.a.createElement(v.a,{align:"left"}))),r.a.createElement(g.a,null,t.map((function(e){return r.a.createElement(j.a,{key:e.name},r.a.createElement(v.a,{component:"th",scope:"row"},e.name),r.a.createElement(v.a,{align:"left"},e.username),r.a.createElement(v.a,{align:"left"},e.email),r.a.createElement(v.a,{align:"left"},e.address.city),r.a.createElement(v.a,{align:"left"},r.a.createElement(l.b,{to:"/".concat(e.id,"/posts"),style:{color:"black",textDecoration:"none"}},r.a.createElement(w.a,{variant:"contained"},"Posts"))))}))))):void 0}}]),t}(r.a.Component),L=a(19),P=a(21),k=a(39),I=a(65);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N="START_LOADING",B="HANDLE_SECCESS_USERS",x="HANDLE_ERROR",U="HANDLE_SECCESS_POSTS",A="HANDLE_SECCESS_DETAILS",_="https://jsonplaceholder.typicode.com/",R=function(){return{type:N}},J=function(){return{type:x}},W=function(){return function(e){return e(R()),fetch("".concat(_,"users")).then((function(e){return e.json()})).then((function(t){return e({type:B,payload:t})})).catch((function(){return e(J())}))}},F=function(e){return function(t){return t(R()),fetch("".concat(_,"posts?userId=").concat(e)).then((function(e){return e.json()})).then((function(a){return t(function(e,t){return{type:U,payload:{posts:e,userId:t}}}(a,e))})).catch((function(){return t(J())}))}},H=function(e){return function(t){return t(R()),fetch("".concat(_,"comments/?postId=").concat(e)).then((function(e){return e.json()})).then((function(e){return t({type:A,payload:e})})).catch((function(){return t(J())}))}},M=localStorage["redux-store"]?JSON.parse(localStorage["redux-store"]):{users:[],posts:[],comments:[],userId:null,isLoading:!0,isLoaded:!1,hasError:!1},G=Object(k.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return D({},e,{isLoading:!0});case B:return D({},e,{hasError:!1,isLoaded:!0,isLoading:!1,users:Object(L.a)(t.payload)});case U:return D({},e,{hasError:!1,isLoaded:!0,isLoading:!1,posts:Object(L.a)(t.payload.posts),userId:t.payload.userId});case A:return D({},e,{hasError:!1,isLoaded:!0,isLoading:!1,comments:Object(L.a)(t.payload)});case x:return D({},e,{isLoading:!1,hasError:!0});default:return e}}),Object(k.a)(I.a));G.subscribe((function(){localStorage["redux-store"]=JSON.stringify(G.getState())}));var $=Object(c.b)((function(e){return{users:e.users,isLoading:e.isLoading,isLoaded:e.isLoaded}}),(function(e){return{getUsersData:function(){return e(W())}}}))(C),q=a(120),z=a(118),K=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={setOpen:!1,postTitle:"",postBody:""},a.loadPosts=function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.getUsersPosts,e.next=3,n(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.postNewPost=function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.postUserPost,e.next=3,n(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleOpen=function(){a.setState({setOpen:!0})},a.handleClose=function(){a.setState({setOpen:!1})},a.handleChangeTitle=function(e){var t=e.target.value;a.setState({postTitle:t})},a.handleChangeBody=function(e){var t=e.target.value;a.setState({postBody:t})},a.handleSubmit=function(e){e.preventDefault();var t=a.props.match,n=a.state,r=n.postTitle,o=n.postBody,i={userId:parseInt(t.match.params.userId,10),title:r,body:o};return a.setState({postTitle:"",postBody:""}),a.handleClose(),a.postNewPost(i)},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match;this.loadPosts(e.match.params.userId)}},{key:"render",value:function(){var e=this.props,t=e.posts,a=e.isLoading,n=e.isLoaded,o=e.userId,i=this.state,c=i.setOpen,s=i.postTitle,u=i.postBody;return a?r.a.createElement("div",{className:"lds-hourglass"}):n?r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null,r.a.createElement(b.a,{"aria-label":"simple table"},r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,"Title"),r.a.createElement(v.a,{align:"left"},"Body"),r.a.createElement(v.a,{align:"left"},"ID"),r.a.createElement(v.a,null))),r.a.createElement(g.a,null,t.map((function(e){return r.a.createElement(j.a,{key:e.id},r.a.createElement(v.a,{component:"th",scope:"row"},e.title),r.a.createElement(v.a,{align:"left"},e.body),r.a.createElement(v.a,{align:"left"},e.id),r.a.createElement(v.a,null,r.a.createElement(l.b,{to:"/".concat(o,"/posts/").concat(e.id,"/details"),style:{color:"black",textDecoration:"none"}},r.a.createElement(w.a,{variant:"contained"},"Details"))))}))))),r.a.createElement("div",{className:"container"},r.a.createElement(w.a,{type:"button",variant:"contained",color:"primary",onClick:this.handleOpen},"Add new post"),r.a.createElement(q.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:c,onClose:this.handleClose},r.a.createElement("div",{className:"pop-up"},r.a.createElement("h2",{id:"simple-modal-title"},"Add new post"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(z.a,{onChange:this.handleChangeTitle,id:"outlined-full-width",label:"Title",value:s,style:{margin:8},fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(z.a,{onChange:this.handleChangeBody,id:"outlined-full-width",label:"Body",value:u,style:{margin:8},fullWidth:!0,margin:"normal",variant:"outlined",multiline:!0,InputLabelProps:{shrink:!0}}),r.a.createElement("div",{className:"pop-up-buttons"},r.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary",style:{marginRight:15}},"Add"),r.a.createElement(w.a,{type:"button",variant:"contained",color:"primary",onClick:this.handleClose},"Cancel"))))))):void 0}}]),t}(r.a.Component),Q=Object(c.b)((function(e){return{posts:e.posts,isLoading:e.isLoading,isLoaded:e.isLoaded,userId:e.userId}}),(function(e){return{getUsersPosts:function(t){return e(F(t))},postUserPost:function(t){return e(function(e){return function(t){return fetch("".concat(_,"posts"),{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(D({},e))}).then((function(e){return alert("Status code: ".concat(e.status))}))}}(t))}}}))(K),V=(a(83),a(117)),X=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={setOpen:!1,editTitle:"",editBody:""},a.loadDetails=function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.getPostDetails,e.next=3,n(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.putEditedPost=function(){var e=Object(p.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.putUserPost,e.next=3,r(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.deleteUserPost=function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.deleteUserPost,e.next=3,n(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleOpen=function(e){a.setState({editTitle:e.title,editBody:e.body,setOpen:!0})},a.handleClose=function(){a.setState({setOpen:!1})},a.handleEditTitle=function(e){var t=e.target.value;a.setState({editTitle:t})},a.handleEditBody=function(e){var t=e.target.value;a.setState({editBody:t})},a.handleSubmit=function(e){var t=a.state,n=t.editTitle,r=t.editBody,o={id:e.id,title:n,body:r,userId:e.userId};return a.handleClose(),a.putEditedPost(o,e.id)},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match;this.loadDetails(e.match.params.postId)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.posts,o=t.comments,i=t.isLoading,l=t.isLoaded,c=this.state,s=c.editTitle,u=c.editBody,d=c.setOpen,p=n.find((function(e){return e.id===parseInt(a.match.params.postId,10)}));return i?r.a.createElement("div",{className:"lds-hourglass"}):l?r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null,r.a.createElement(V.a,{variant:"h5",component:"h3"},"Title:",p.title),r.a.createElement(V.a,{component:"p"},"Body:",p.body),r.a.createElement(b.a,{"aria-label":"simple table"},r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,null,"Name"),r.a.createElement(v.a,{align:"left"},"Email"),r.a.createElement(v.a,{align:"left"},"Comment"),r.a.createElement(v.a,{align:"left"},"ID"))),r.a.createElement(g.a,null,o.map((function(e){return r.a.createElement(j.a,{key:e.id},r.a.createElement(v.a,{component:"th",scope:"row"},e.name),r.a.createElement(v.a,{align:"left"},e.email),r.a.createElement(v.a,{align:"left"},e.body),r.a.createElement(v.a,{align:"left"},e.id))}))))),r.a.createElement("div",{className:"container"},r.a.createElement(w.a,{type:"button",variant:"contained",color:"primary",onClick:function(){return e.handleOpen(p)}},"Edit post"),r.a.createElement(q.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:d,onClose:this.handleClose},r.a.createElement("div",{className:"pop-up"},r.a.createElement("h2",{id:"simple-modal-title"},"Edit post"),r.a.createElement("form",{onSubmit:function(){return e.handleSubmit(p)}},r.a.createElement(z.a,{onChange:this.handleEditTitle,id:"outlined-full-width",label:"Title",value:s,style:{margin:8},fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(z.a,{onChange:this.handleEditBody,id:"outlined-full-width",label:"Body",value:u,style:{margin:8},fullWidth:!0,margin:"normal",variant:"outlined",multiline:!0,InputLabelProps:{shrink:!0}}),r.a.createElement("div",{className:"pop-up-buttons"},r.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary",style:{marginRight:15}},"Add"),r.a.createElement(w.a,{type:"button",variant:"contained",color:"primary",onClick:this.handleClose},"Cancel"))))),r.a.createElement(w.a,{type:"button",variant:"contained",color:"primary",onClick:function(){return e.deleteUserPost(p.id)}},"Delete"))):void 0}}]),t}(r.a.Component),Y=Object(c.b)((function(e){return{posts:e.posts,comments:e.comments,isLoading:e.isLoading,isLoaded:e.isLoaded}}),(function(e){return{getPostDetails:function(t){return e(H(t))},putUserPost:function(t,a){return e(function(e,t){return function(a){return fetch("".concat(_,"posts/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(D({},e))}).then((function(e){return alert("Status code: ".concat(e.status))}))}}(t,a))},deleteUserPost:function(t){return e(function(e){return function(t){return fetch("".concat(_,"posts/").concat(e),{method:"DELETE"}).then((function(e){return alert("Status code: ".concat(e.status))}))}}(t))}}}))(X),Z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/:userId?/posts/:postId?/details",render:function(e){return r.a.createElement(Y,{match:e})}}),r.a.createElement(s.a,{path:"/:userId?/posts",render:function(e){return r.a.createElement(Q,{match:e})}}),r.a.createElement(s.a,{path:"/",component:$})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(l.a,{basename:"/users"},r.a.createElement(c.a,{store:G},r.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[71,1,2]]]);
//# sourceMappingURL=main.0cd5261f.chunk.js.map